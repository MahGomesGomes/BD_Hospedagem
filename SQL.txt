use master
drop database bdHospedagem

create database bdHospedagem
use bdHospedagem

create table tbTipoApto(
     codTipoApto primary key identity (1,1)
    ,descricaoTipoApto varchar (30) not null
)
select * from tbTipoApto


create table tbCliente(
     codCliente primary key identity (1,1)
    ,nomeCliente varchar (30) not null
    ,dataNasctoCliente date not null
    ,cpfCliente int not null
)
select * from tbCliente


create table tbFormaPagto(
     codFormaPagto primary key identity (1,1)
    ,descricaoFormaPagto varchar (30) not null
)
select * from tbFormaPagto


create table tbServico( 
     codServico primary key identity (1,1)
    ,descricaoServico varchar (30) not null
    ,valorServico money not null
)
select * from tbServico


crerate table tbProduto(
     codProduto primary key identity (1,1)
    ,descricaoProduto varchar (30) not null
    ,valorProduto money not null
    ,quantidadeProduto int not null
)
select * from tbProduto


create table tbHospede(
     codHospede primary key identity (1,1)
    ,nomeHospede varchar not null
    ,dataNasctoHospede date not null
    ,emailHospede varchar (30)
)
select * from tbHospede


create table tbApto(
    codApto primary key identity (1,1)
    ,descricaoApto varchar (30) not null
    ,andarApto int not null
    ,codTipoApto int foreign key references tbTipoApto (codTipoApto)
)
select * from tbApto


create table tbReserva(
     codReserva primary key identity (1,1)
    ,dataReserva date not null
    ,horaReserva time not null
    ,codCliente int foreign key references tbCliente (codCliente)
    ,dataPrevistaCheckIn datetime not null
    ,dataPrevistaCheckOut datetime not null
    ,qtdeHospedes int not null
    ,qtdeAptos int not null
    ,valorReserva money not null
    ,valorEntrada money not null
)
select * from tbReserva


create table tbHospedagem(
     codHospedagem primary key identity (1,1)
    ,codApto int foreign key references tbApto (codApto)
    ,codReserva int foreign key references tbReserva (codReserva)
)
select * from tbHospedagem


create table tbCheckIn(
     codCheckIn primary key identity (1,1)
    ,dataHoraCheckIn datetime not null
    ,dataHoraCheckOut datetime not null
    ,codHospede int foreign key references tbHospede (codHospede)
    ,codHospedagem int foreign key references tbHospedagem (codHospedagem)
)
select * from tbCheckIn


create table tbConta(
     codConta primary key identity (1,1)
    ,dataAberturaConta date not null
    ,codHospedagem int foreign key references tbHospedagem (codHospedagem)
    ,valorTotalConta money not null
    ,dataFechamentoConta datetime not null
)
select * from tbConta


create table tbParcela(
     codParcela primary key identity (1,1)
    ,valorParcela money not null
    ,codFormaPagto int foreign key references tbFormaPagto (codFormaPagto)
    ,codConta int foreign key references tbConta (codConta)
)
select * from tbParcela


create table tbContaServico(
     codContaServico primary key identity (1,1)
    ,codConta int foreign key references tbConta (codConta)
    ,codServico int foreign key references tbServico (codServico)
    ,quantidade int not null
    ,subTotalContaServico money not null
)
select * from tbContaServico


create table tbContaProduto(
     codContaProduto primary key identity (1,1)
    ,codConta int foreign key references tbConta (codConta)
    ,codProduto int foreign key references tbProduto (codProduto)
    ,quantidade int not null
    ,subTotalContaProduto money not null
)
select * from tbContaProduto


create table tbReservaApto(
     codReservaApto primary key identity (1,1)
    ,codReserva int foreign key references tbReserva (codReserva)
    ,codTipoApto int foreign key references tbTipoApto (codTipoApto)
)
select * from tbReservaApto



use master
use bdHospedagem

insert into tbCliente(nomeCliente,dataNasctoCliente,cpfCliente)
values 
     ('Karla De Carvalho Leite','28/01/1999',46475276030)
    ,('Bruno Romero Alvez','22/08/1978',72037759096)
    ,('Laura Germano','24/04/1997',05154549074)
select * from tbCliente

insert into tbHospede(nomeHospede,dataNasctoHospede,emailHospede)
values 
     ('Karla De Carvalho Leite','28/01/1999','Kahtapimbas@gmail.com')
    ,('Bruno Romero Alvez','22/08/1978','brunao157criminoso@gmail.com')
    ,('Alana de Rodriguez Leite','04/01/2005','AlanaRodriguez168@etec.com.br')
    ,('José Mojica leite','27/04/1946')
    ,('Laura Germano Alvez','24/04/1997','L.Germano1997@hotmail.com')
select * from tbHospede

insert into tbFormaPagto(descricaoFormaPagto)
values
     ('Dinheiro')
    ,('Cartão de crédito')
    ,('Cheque')
select * from tbFormaPagto

insert into tbTipoApto(descricaoTipoApto)
values
     ('Single') // 150
    ,('Medium') // 300
    ,('Master') // 450
select * from tbTipoApto

insert into tbApto(descricaoApto,andarApto,codTipoApto)
values
     ('1',1,1) //s
    ,('2',1,2) //m
    ,('3',1,3) //ma
    ,('4',2,1) //s
    ,('5',2,2) //m
    ,('6',2,3) //ma
select * from tbTipoApto

insert into tbServico(descricaoServico,valorServico)
values
     ('Lavanderia',25.00)
    ,('Internet',35.00)
select * from tbServico

insert into tbProdutos(descricaoProduto,valorProduto,quantidadeProduto)
values
     ('Suco ADES uva 350ml',6.00,30)
    ,('Espulmante SANTTANA 1L',40.00,12)
    ,('Refrigerante COCA-COLA cola 1L',8.50,24)
    ,('Vinho OLODUNT seco 1L',37.00,12)
select * from tbProdutos

insert into tbReserva (dataReserva,horaReserva,codCliente,dataPrevistaCheckIn,dataPrevistaCheckOut,qtdeHospedes,qtdeAptos,valorReserva,valorEntrada)
values
     ('18/05/2019','16:33',1,'15/06/2019','20/06/2019',2,1,1500,875)
    ,('20/12/2019','09:46',1,'20/02/2020','25/02/2020',2,2,2250,1400)
    ,('27/12/2019','12:36',2,'22/01/2020','24/01/2020',1,1,600,150)
    ,('25/01/2020','03:03',3,'26/01/2020','28/01/2020',1,1,900,900)/
    ,('27/09/2019','17:51',3,'26/01/2020','28/01/2020',2,1,900,750)/
    ,('25/03/2019','21:18',3,'26/05/2019','27/05/2019',2,1,300,250)/
    ,('27/12/2018','14:20',2,'31/12/2018','04/01/2019',2,1,1500,800)/
    ,('12/05/2018','17:44',1,'10/06/2018','15/06/2018',2,2,2250,1400)/
    ,('22/01/2019','01:27',3,'18/01/2019','23/01/2019',1,1,750,600)
    ,('27/03/2018','03:03',3,'22/04/2018','25/04/2018',2,1,1350,900)
select * from tbReserva

insert into tbReservaApto(codReserva,codTipoApto)
values
     (1,2)
    ,(2,1)
    ,(2,2)
    ,(3,2)
    ,(4,3)
    ,(5,3)
    ,(6,2)
    ,(7,2)
    ,(8,1)
    ,(8,2)
    ,(9,1)
    ,(10,3)
select * from tbReservaApto

insert into tbHospedagem(codReserva,codApto)
values
     (1,2)
    ,(2,1)
    ,(2,5)
    ,(3,5)
    ,(4,6)
    ,(5,3)
    ,(6,2)
    ,(7,2)
    ,(8,1)
    ,(8,2)
    ,(9,4)
    ,(10,6)
select * from tbHospedagem


insert into tbCheckIn(dataHoraCheckIn,dataPrevistaCheckOut,codHospede,codHospedagem)
values
    ()




